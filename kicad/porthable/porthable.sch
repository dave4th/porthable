EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:arduino
LIBS:Conn-raspberry
LIBS:porthable-cache
EELAYER 27 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "PorTHable (DHT11: Temperatura, Umidita`)"
Date "7 jan 2016"
Rev "0.0.4"
Comp "mail4davide@gmail.com"
Comment1 "+ ESP8266, DS1302, Seriali e Programmazione"
Comment2 "ATmega328 w/ DHT11, TFT LCD"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L DISPLAY_128X128SPI S1
U 1 1 565B3034
P 5500 1700
F 0 "S1" H 5300 1450 60  0000 C CNN
F 1 "DISPLAY_128X128SPI" H 5850 750 60  0000 C CNN
F 2 "~" H 6250 1100 60  0000 C CNN
F 3 "~" H 6250 1100 60  0000 C CNN
	1    5500 1700
	1    0    0    1   
$EndComp
$Comp
L CONN_4X2 U1
U 1 1 566699E3
P 7450 1300
F 0 "U1" H 7450 1550 50  0000 C CNN
F 1 "ESP8266" V 7450 1300 40  0000 C CNN
F 2 "" H 7450 1300 60  0000 C CNN
F 3 "" H 7450 1300 60  0000 C CNN
	1    7450 1300
	0    -1   -1   0   
$EndComp
Text Notes 8000 1800 1    60   ~ 0
+
Text Notes 8300 1800 1    60   ~ 0
-
Text Notes 8100 1800 1    60   ~ 0
out
Text Notes 7300 1800 1    60   ~ 0
TX0
Text Notes 7600 950  1    60   ~ 0
RX0
Text Notes 7300 950  1    60   ~ 0
GND
Text Notes 7400 1800 1    60   ~ 0
EN
Text Notes 7600 1800 1    60   ~ 0
VCC
$Comp
L ATMEGA328-P IC1
U 1 1 5666F771
P 2700 4800
F 0 "IC1" H 1950 6050 40  0000 L BNN
F 1 "ATMEGA328-P" H 3100 3400 40  0000 L BNN
F 2 "DIL28" H 2700 4800 30  0000 C CIN
F 3 "" H 2700 4800 60  0000 C CNN
	1    2700 4800
	1    0    0    -1  
$EndComp
Wire Wire Line
	1300 3700 1800 3700
Wire Wire Line
	1300 4000 1800 4000
Wire Wire Line
	1600 2200 1600 5900
Wire Wire Line
	1600 5900 1600 6000
Wire Wire Line
	1600 6000 1600 7100
Wire Wire Line
	1600 7100 1600 7300
Wire Wire Line
	1600 5900 1800 5900
Wire Wire Line
	1600 6000 1800 6000
Connection ~ 1600 5900
Wire Wire Line
	7600 900  7600 700 
Wire Wire Line
	7600 700  7800 700 
Wire Wire Line
	7800 700  7800 5600
Wire Wire Line
	7800 5600 3700 5600
Wire Wire Line
	7700 5500 3700 5500
Wire Wire Line
	6000 1700 6000 3900
Wire Wire Line
	6000 3900 3700 3900
Wire Wire Line
	5900 1700 5900 3800
Wire Wire Line
	5900 3800 3700 3800
Wire Wire Line
	5800 1700 5800 3700
Wire Wire Line
	5800 3700 3700 3700
Wire Wire Line
	5700 1700 5700 4000
Wire Wire Line
	5600 1700 5600 4200
Wire Wire Line
	8100 5700 8100 1600
Wire Wire Line
	3700 5700 5400 5700
Wire Wire Line
	5400 5700 8100 5700
Wire Wire Line
	5500 2000 5500 1700
Wire Wire Line
	6200 2000 6200 1700
Connection ~ 5500 2000
Wire Wire Line
	7400 2000 7400 1700
Connection ~ 6200 2000
Wire Wire Line
	7600 2000 7600 1700
Connection ~ 7400 2000
Wire Wire Line
	8000 1600 8000 2000
Wire Wire Line
	8000 2000 8000 2800
Connection ~ 7600 2000
Wire Wire Line
	1600 2200 3700 2200
Wire Wire Line
	3700 2200 4300 2200
Wire Wire Line
	4300 2200 5100 2200
Wire Wire Line
	5100 2200 6100 2200
Wire Wire Line
	6100 2200 6300 2200
Wire Wire Line
	6300 2200 7000 2200
Wire Wire Line
	7000 2200 8300 2200
Wire Wire Line
	8300 2200 8500 2200
Wire Wire Line
	6100 2200 6100 1700
Wire Wire Line
	7000 2200 7000 700 
Wire Wire Line
	7000 700  7300 700 
Wire Wire Line
	7300 700  7300 900 
Connection ~ 6100 2200
Wire Wire Line
	8300 1600 8300 2200
Connection ~ 7000 2200
$Comp
L +3,3V #PWR2
U 1 1 566702A4
P 1400 7300
F 0 "#PWR2" H 1400 7260 30  0001 C CNN
F 1 "+3,3V" H 1400 7410 30  0000 C CNN
F 2 "" H 1400 7300 60  0000 C CNN
F 3 "" H 1400 7300 60  0000 C CNN
	1    1400 7300
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR3
U 1 1 566702B3
P 1600 7300
F 0 "#PWR3" H 1600 7300 30  0001 C CNN
F 1 "GND" H 1600 7230 30  0001 C CNN
F 2 "" H 1600 7300 60  0000 C CNN
F 3 "" H 1600 7300 60  0000 C CNN
	1    1600 7300
	1    0    0    -1  
$EndComp
Connection ~ 1600 6000
$Comp
L C C3
U 1 1 56670337
P 1800 6700
F 0 "C3" H 1800 6800 40  0000 L CNN
F 1 "4,7uF" H 1806 6615 40  0000 L CNN
F 2 "~" H 1838 6550 30  0000 C CNN
F 3 "~" H 1800 6700 60  0000 C CNN
	1    1800 6700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 6100 1800 6500
Wire Wire Line
	1800 6900 1800 7100
Wire Wire Line
	1800 7100 1600 7100
Connection ~ 1600 7100
$Comp
L R R1
U 1 1 56672AC8
P 3900 2650
F 0 "R1" V 3980 2650 40  0000 C CNN
F 1 "10K" V 3907 2651 40  0000 C CNN
F 2 "~" V 3830 2650 30  0000 C CNN
F 3 "~" H 3900 2650 30  0000 C CNN
	1    3900 2650
	1    0    0    -1  
$EndComp
Wire Wire Line
	3900 2000 3900 2400
Connection ~ 3900 2000
Wire Wire Line
	3900 2900 3900 3200
Wire Wire Line
	3900 3200 3900 5150
Wire Wire Line
	3700 5150 3900 5150
Wire Wire Line
	3900 5150 6200 5150
$Comp
L C C1
U 1 1 56672C56
P 4300 2600
F 0 "C1" H 4300 2700 40  0000 L CNN
F 1 "22pF" H 4306 2515 40  0000 L CNN
F 2 "~" H 4338 2450 30  0000 C CNN
F 3 "~" H 4300 2600 60  0000 C CNN
	1    4300 2600
	1    0    0    -1  
$EndComp
$Comp
L C C2
U 1 1 56672C6F
P 5100 2600
F 0 "C2" H 5100 2700 40  0000 L CNN
F 1 "22pF" H 5106 2515 40  0000 L CNN
F 2 "~" H 5138 2450 30  0000 C CNN
F 3 "~" H 5100 2600 60  0000 C CNN
	1    5100 2600
	1    0    0    -1  
$EndComp
$Comp
L CRYSTAL X2
U 1 1 56672C7C
P 4700 3100
F 0 "X2" H 4700 3250 60  0000 C CNN
F 1 "16000M" H 4700 2950 60  0000 C CNN
F 2 "~" H 4700 3100 60  0000 C CNN
F 3 "~" H 4700 3100 60  0000 C CNN
	1    4700 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	4300 4300 3700 4300
Wire Wire Line
	4300 2800 4300 3100
Wire Wire Line
	4300 3100 4300 4300
Wire Wire Line
	5100 2800 5100 3100
Wire Wire Line
	5100 3100 5100 4400
Wire Wire Line
	4300 2400 4300 2200
Connection ~ 4300 2200
Wire Wire Line
	5100 2200 5100 2400
Connection ~ 5100 2200
Wire Wire Line
	5100 4400 3700 4400
$Comp
L R R2
U 1 1 566C71E2
P 5400 2650
F 0 "R2" V 5480 2650 40  0000 C CNN
F 1 "4.7K" V 5407 2651 40  0000 C CNN
F 2 "~" V 5330 2650 30  0000 C CNN
F 3 "~" H 5400 2650 30  0000 C CNN
	1    5400 2650
	1    0    0    -1  
$EndComp
Wire Wire Line
	5400 2000 5400 2400
Connection ~ 5400 2000
Wire Wire Line
	5400 2900 5400 5700
Connection ~ 5400 5700
$Comp
L SW_PUSH SW1
U 1 1 566D2F91
P 3700 2700
F 0 "SW1" H 3850 2810 50  0000 C CNN
F 1 "RESET" H 3700 2620 50  0000 C CNN
F 2 "~" H 3700 2700 60  0000 C CNN
F 3 "~" H 3700 2700 60  0000 C CNN
	1    3700 2700
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3700 2200 3700 2400
Connection ~ 3700 2200
Wire Wire Line
	3700 3000 3700 3200
Wire Wire Line
	3700 3200 3900 3200
Connection ~ 3900 3200
Wire Notes Line
	2900 3400 4100 3400
Wire Notes Line
	4100 3400 4100 1900
Wire Notes Line
	4100 1900 2900 1900
Wire Notes Line
	2900 1900 2900 3400
Text Notes 3050 3350 1    60   ~ 0
Nella versione finale\nnon servira`, ci sara`\ninterruttore generale\non/off. Il reset sara`\ncollegato alla +VCC\ndirettamente.
Wire Wire Line
	3700 5400 6600 5400
Wire Wire Line
	3700 5300 6600 5300
Wire Wire Line
	4300 3100 4400 3100
Connection ~ 4300 3100
Wire Wire Line
	5000 3100 5100 3100
Connection ~ 5100 3100
Wire Wire Line
	3700 4000 5700 4000
Wire Wire Line
	5700 4000 6600 4000
Wire Wire Line
	3700 4200 5600 4200
Wire Wire Line
	5600 4200 6600 4200
Connection ~ 5700 4000
Wire Wire Line
	3700 4100 6600 4100
Connection ~ 5600 4200
Connection ~ 3900 5150
Wire Wire Line
	6300 4300 6600 4300
Wire Wire Line
	6300 2200 6300 4300
Wire Wire Line
	6300 4300 6300 5200
Connection ~ 6300 2200
Text Notes 7100 3900 0    39   ~ 0
15 (GPIO22)
Text Notes 7100 4000 0    39   ~ 0
19 (GPIO10/MOSI)
Text Notes 7100 4100 0    39   ~ 0
21 (GPIO9/MISO)
Text Notes 7100 4200 0    39   ~ 0
23 (GPIO11/SCLK)
Text Notes 7100 4300 0    39   ~ 0
25 (GND)
$Comp
L SWITCH_INV SW2
U 1 1 567E7B08
P 1300 6700
F 0 "SW2" H 1100 6850 50  0000 C CNN
F 1 "Supply EXT/INT" H 1150 6550 50  0000 C CNN
F 2 "~" H 1300 6700 60  0000 C CNN
F 3 "~" H 1300 6700 60  0000 C CNN
	1    1300 6700
	0    1    1    0   
$EndComp
Wire Wire Line
	1300 2000 3900 2000
Wire Wire Line
	3900 2000 5400 2000
Wire Wire Line
	5400 2000 5500 2000
Wire Wire Line
	5500 2000 6200 2000
Wire Wire Line
	6200 2000 6400 2000
Wire Wire Line
	6400 2000 7400 2000
Wire Wire Line
	7400 2000 7600 2000
Wire Wire Line
	7600 2000 8000 2000
Wire Wire Line
	1300 6100 1800 6100
Wire Wire Line
	1400 7200 1400 7300
$Comp
L +3,3V #PWR1
U 1 1 567E7BE8
P 1200 7300
F 0 "#PWR1" H 1200 7260 30  0001 C CNN
F 1 "+3,3V" H 1200 7410 30  0000 C CNN
F 2 "" H 1200 7300 60  0000 C CNN
F 3 "" H 1200 7300 60  0000 C CNN
	1    1200 7300
	-1   0    0    1   
$EndComp
Wire Wire Line
	1200 7300 1200 7200
Wire Wire Line
	1300 2000 1300 3700
Wire Wire Line
	1300 3700 1300 4000
Wire Wire Line
	1300 4000 1300 6100
Wire Wire Line
	1300 6100 1300 6200
Connection ~ 1300 6100
Connection ~ 1300 4000
Connection ~ 1300 3700
Text Notes 1400 7600 0    59   ~ 0
Alimentazione\nda Batteria interna
Text Notes 1200 7600 2    59   ~ 0
Alimentazione\nEsterna
Wire Wire Line
	6300 5200 6600 5200
Connection ~ 6300 4300
$Comp
L CONN_5 P2
U 1 1 567E9538
P 7000 4100
F 0 "P2" V 6950 4100 50  0000 C CNN
F 1 "Program w/R.Pi" V 7050 4100 50  0000 C CNN
F 2 "" H 7000 4100 60  0000 C CNN
F 3 "" H 7000 4100 60  0000 C CNN
	1    7000 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 3900 6600 3900
Wire Wire Line
	6200 5150 6200 3900
Text Notes 7100 3800 0    39   ~ 0
[ 17 (+3.3V) ]
$Comp
L CONN_4 P3
U 1 1 567FE68B
P 6950 5250
F 0 "P3" V 6900 5250 50  0000 C CNN
F 1 "Serial" V 7000 5250 50  0000 C CNN
F 2 "" H 6950 5250 60  0000 C CNN
F 3 "" H 6950 5250 60  0000 C CNN
	1    6950 5250
	1    0    0    -1  
$EndComp
Wire Wire Line
	6600 5100 6400 5100
Wire Wire Line
	6400 5100 6400 2000
Connection ~ 6400 2000
Text Notes 7100 5200 0    39   ~ 0
GND
Text Notes 7100 5100 0    39   ~ 0
+3,3V
$Comp
L DS1302 U2
U 1 1 568E1D1C
P 9750 2000
F 0 "U2" H 10020 2550 60  0000 C CNN
F 1 "DS1302" H 10110 1450 60  0000 C CNN
F 2 "" H 9750 2000 60  0000 C CNN
F 3 "" H 9750 2000 60  0000 C CNN
	1    9750 2000
	1    0    0    1   
$EndComp
$Comp
L CRYSTAL X1
U 1 1 568E1D4D
P 8900 1100
F 0 "X1" H 8900 1250 60  0000 C CNN
F 1 "323768K" H 8900 950 60  0000 C CNN
F 2 "~" H 8900 1100 60  0000 C CNN
F 3 "~" H 8900 1100 60  0000 C CNN
	1    8900 1100
	0    -1   -1   0   
$EndComp
Wire Wire Line
	7300 1700 7300 2400
Wire Wire Line
	7300 2400 7700 2400
Wire Wire Line
	7700 2400 7700 5500
Wire Wire Line
	8600 2100 8600 5800
Wire Wire Line
	8600 5800 3700 5800
Wire Wire Line
	3700 6000 8700 6000
Wire Wire Line
	10800 5900 3700 5900
Wire Wire Line
	10800 2300 10800 5900
Wire Wire Line
	8900 2100 8600 2100
Wire Wire Line
	8900 2300 8700 2300
Wire Wire Line
	8700 2300 8700 6000
Wire Wire Line
	10600 2300 10800 2300
Wire Wire Line
	8000 2800 9750 2800
Wire Wire Line
	9750 2800 9750 2600
Connection ~ 8000 2000
Wire Wire Line
	9750 1400 9750 600 
Wire Wire Line
	8500 600  9750 600 
Wire Wire Line
	9750 600  10800 600 
Wire Wire Line
	8500 2200 8500 600 
Connection ~ 8300 2200
Wire Wire Line
	8900 1600 8900 1400
Wire Wire Line
	8900 800  8900 700 
Wire Wire Line
	8900 700  8600 700 
Wire Wire Line
	8600 700  8600 1800
Wire Wire Line
	8600 1800 8900 1800
$Comp
L BATTERY BT1
U 1 1 568E244A
P 10800 1100
F 0 "BT1" H 10800 1300 50  0000 C CNN
F 1 "CR 2032" H 10800 910 50  0000 C CNN
F 2 "~" H 10800 1100 60  0000 C CNN
F 3 "~" H 10800 1100 60  0000 C CNN
	1    10800 1100
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10800 600  10800 800 
Connection ~ 9750 600 
Wire Wire Line
	10800 1400 10800 1700
Wire Wire Line
	10800 1700 10600 1700
$Comp
L CONN_4 P1
U 1 1 568E2716
P 8150 1250
F 0 "P1" V 8100 1250 50  0000 C CNN
F 1 "DHT11" V 8200 1250 50  0000 C CNN
F 2 "" H 8150 1250 60  0000 C CNN
F 3 "" H 8150 1250 60  0000 C CNN
	1    8150 1250
	0    -1   -1   0   
$EndComp
$EndSCHEMATC
